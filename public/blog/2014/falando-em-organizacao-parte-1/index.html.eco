---
title: "Falando em organização... - Parte I"
datePost: 15/10/2014
layout: "post"
relativeOutDirPath: 'posts'
path: "../../../"
pathBlog: "../../"
---

<p class="lead">"O Universo, é um lugar desconcertantemente grande, um fato que, para continuar levando uma vida tranquila, a maioria das pessoas tende a ignorar."</p>

<p>Já escrevi alguns artigos que mostram um pouco da metodologia que eu estava utilizando, são eles:</p>

<ul>
  <li><a href="http://www.felipefialho.com/blog/2013/sobre-organizacao-de-componentes-com-pre-processadores/">Sobre organização de componentes com pré-processadores</a></li>
  <li><a href="http://www.felipefialho.com/blog/2013/um-conto-sobre-componentizacao-e-quebra-de-paradigmas/">Um conto sobre componentização e quebra de paradigmas</a></li>
  <li><a href="http://www.felipefialho.com/blog/2014/utilizando-o-bootstrap-de-forma-consistente/">Utilizando o Bootstrap de forma consistente</a></li>
</ul>

<p>O fluxo de trabalho atual funcionou muito bem nos últimos 3 semestres (1 ano e meio), durante esse período fiz diversas modificações pontuais. Mas através da experiência adquirida nesse período, constatei possibilidade de melhorias profundas que poderiam trazer algumas vantagens no dia-a-dia:</p>

<ul>
  <li>Velocidade de desenvolvimento</li>
  <li>Qualidade do código</li>
  <li>Escalabilidade</li>
  <li>Componentização</li>
  <li>Performance</li>
</ul>

<h3>Mas… calma!</h3>

<p>É impressionante o número de ferramentas que surgem todo dia nesse louco mundo front-end. Portanto, precisamos ter cautela.</p>

<p>A palavra equilíbrio funciona muito bem aqui. Não saia rejeitando todas as novidades ou você vai ter dificuldades para acompanhar a evolução do mercado, mas também não mude seu fluxo de trabalho toda vez que surgir uma ferramenta que você achou interessante.</p>

<p>Teste e estude bem todas as ferramentas que você considera que podem agregar no seu dia-a-dia, mas seja cauteloso antes de aplica-las em um projeto real.</p>

<h3>Automatizador de Tarefas</h3>

<h4>Qual automatizador de tarefas utilizar? Grunt ou Gulp?</h4>

<p>O Gulp se saiu muito bem nos testes que realizei, a diferença de velocidade com relação ao Grunt é absurda.</p>

<p>Mas ainda acho o Grunt mais adequado aos projetos que desenvolvo, portanto continuo usando o Grunt de forma "oficial", o que não impede a utilização do Gulp em algum projeto específico.</p>

<h3>Gerenciador de Dependências</h3>

<h4>O uso de um gerenciador de dependências poderia facilitar a atualização e manutenção dos plugins?</h4>

<p>Após alguns testes observei que o Bower se tornaria um importante aliado.</p>

<p>Todas as dependências externas utilizadas ficam registradas em um arquivo .json, dessa forma fica mais fácil ver quais estão sendo utilizadas no projeto. E facilita a atualização, exclusão e inclusão de novas dependências no seu projeto.</p>

<p>O Bower se mostrou uma importante ferramenta na busca de organização e escalabilidade.</p>

<h3>Organização dos arquivos JavaScript</h3>

<p>Ao usar o Bower, uma pasta chamada <code>bower_dependencies</code> é adicionada na raiz do projeto, e lá ficam todas as dependências externas.</p>

<h4>Sobre as pastas</h4>

<ul>
  <li>Os arquivos de dependências externas, são chamados diretamente da pasta <code>bower_dependencies</code> que está na raiz.</li>
  <li>Scripts desenvolvidos para suprir as necessidades do projeto, ficam dentro de uma pasta de desenvolvimento, por exemplo, <code>assets/js</code></li>
</ul>

<h4>Sobre o 'Gruntfile'</h4>

<ul>
  <li>O plugin <a href="https://github.com/gruntjs/grunt-contrib-concat">Concat</a> é usado para concatenar os scripts de dependencias externas, afinal, a ideia é que eles fiquem inalterados.</li>
  <li>Esse arquivo concatenado é injetado dentro da pasta de desenvolvimento do JavaScript (ex, <code>assets/js</code>) e não deve ser alterado.</li>
  <li>Os scripts de desenvolvimento que estão dentro desta pasta podem ser alterados a qualquer momento. Portanto observo através do <a href="https://github.com/gruntjs/grunt-contrib-watch">Watch</a> qualquer alteração feita neles.</li>
  <li>E então todos os scripts serão minificados em tempo real pelo <a href="https://github.com/gruntjs/grunt-contrib-uglify">Uglify</a>,</li>
</ul>

<h4>Integração com o Bower</h4>

<p>Lembram das dependências externas que serão concatenadas?</p>

<p>Também coloco o <a href="https://github.com/gruntjs/grunt-contrib-watch">Watch</a> para observar meu Gruntfile, portanto toda vez que adiciono ou removo alguma dependência no array do <a href="https://github.com/gruntjs/grunt-contrib-concat">Concat</a> e salvo o Gruntfile, é gerado um novo arquivo com as dependências atualizadas.</p>

<p>Esse é um ponto importante. O arquivo de 'vendor' com as dependências concatenadas não vai ser gerado o tempo todo, isso causaria sérios problemas de lentidão no Grunt. Ele só vai ser criado quando a gente adicionar (ou modificar/remover) um novo plugin no array do Concat, pois ao salvar o Gruntfile, tenho uma tarefa configurada no Watch para iniciar a tarefa de criação do 'vendor.js'.</p>

<p>O scripts que modificamos o tempo todo vão ser concatenados com esse arquivo de 'vendor.js' e em seguida minificado através do Uglify. Isso aumenta consideravelmente o desempenho do Grunt no tempo para gerar o novo arquivo.</p>

<h4>Exemplo de uso:</h4>

<p><pre><code>
  // Task: Concat
  // ---------------------------------
  concat: {
    vendor: {
      src: [
        // Vendor Plugins
        'bower_components/jquery/dist/jquery.min.js',    // jQuery
        'bower_components/bootstrap/js/transition.js',   // Bootstrap - Animation
        'bower_components/bootstrap/js/alert.js',        // Bootstrap - Alert
        'bower_components/bootstrap/js/carousel.js',     // Bootstrap - Carousel
        'bower_components/bootstrap/js/tab.js',          // Bootstrap - Tabs
        'bower_components/bootstrap/js/modal.js',        // Bootstrap - Modal
      ],
      dest: 'dev/assets/js/_vendor.js'
    }
  },

  // Task: Uglify
  // ---------------------------------
  uglify: {
    dev: {
      files : {
        'public/assets/js/scripts.min.js': [
        'dev/assets/js/_vendor.js',    // Vendor Scripts
        'dev/assets/js/functions.js',  // Functions
        'dev/assets/js/main.js'        // General
        ]
      }
    }
  },

  // Task: Watch
  // ---------------------------------
  watch: {
    build: {
      files: [
        'Gruntfile.js'
      ],
      tasks: ['concat', 'uglify']
    }
  }
</code></pre></p>

<p>Observem que gero um arquivo JavaScript chamado <code>_vendor.js</code> através do <a href="https://github.com/gruntjs/grunt-contrib-concat">Concat</a>, e nesse arquivo estão as dependências externas do bower. O <code>_vendor.js</code> só vai ser alterado caso seja necessário modificar essas dependências.</p>

<p> Os JavaScripts de chamadas e que são modificados frequentemente ficam dentro de uma pasta <code>/js</code> e são concatenados com o <code>_vendor.js</code> e minificados através do <a href="https://github.com/gruntjs/grunt-contrib-uglify">Uglify</a>.</p>

<p>E o segredo para essa integração funcionar é colocar o <a href="https://github.com/gruntjs/grunt-contrib-watch">Watch</a> para rodar o <a href="https://github.com/gruntjs/grunt-contrib-concat">Concat</a> e o <a href="https://github.com/gruntjs/grunt-contrib-uglify">Uglify</a> toda vez que fizer alguma alteração e salvar o Gruntfile.</p>

<h3>O polêmico Boostrap</h3>

<p>O Bootstrap está cada vez mais mamilos e no centro de discussões. Continuo achando que se <a href="http://www.felipefialho.com/blog/2014/utilizando-o-bootstrap-de-forma-consistente/">utilizado de forma consciente</a>, pode ajudar bastante, especialmente no início do desenvolvimento.</p>

<p>Passei a deixar nos projetos apenas o que utilizo de fato:</p>

<ul>
  <li>Os mixins</li>
  <li>Sistema de grid</li>
  <li>Componentes JavaScript (Carrossel, Collapse, Modal…) conforme necessário.</li>
</ul>

<p>Os mixins acabo utilizando sempre (com mais alguns que criei baseados nas necessidades dos projetos que desenvolvo).</p>

<p>O sistema de grid e os componentes JavaScript, eu posso optar por utilizar ou não. A ideia é que as dependências se adaptem à minha necessidade, e não ao contrário.</p>

<p>Lembrando que na versão 3+ do Boostrap ficou muito fácil de utilizar os grids de forma semântica e sem precisar colocar classes para sujar o HTML, tudo é feito diretamente no CSS.</p>

<p>Quanto aos componentes JavaScript, é muito fácil customiza-los e alterar seu comportamento padrão, acho que trazem boa integração com outras bibliotecas e funcionam muito bem.</p>

<p>Atualmente essa é a participação do Boostrap nos meus projetos.</p>

<h3>Organização do CSS</h3>

<p>Me aproximei de vez do <a href="http://patternlab.io/">Atomic CSS</a>. Não sei se estou usando a metodologia da forma que ela foi pensada, mas me senti muito confortável com a organização atual.</p>

<p>E é disso que vou falar na <a href="http://www.felipefialho.com/blog/2014/falando-em-organizacao-css">'Parte II' desse artigo</a>. Vou desconstruir a organização e metodologia do CSS que estou utilizando.</p>

<p class="end">;)</p>